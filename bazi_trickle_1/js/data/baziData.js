// 天干五行属性
const STEM_ELEMENTS = {
  "甲": "木", "乙": "木",
  "丙": "火", "丁": "火",
  "戊": "土", "己": "土",
  "庚": "金", "辛": "金",
  "壬": "水", "癸": "水"
};

// 地支五行属性
const BRANCH_ELEMENTS = {
  "子": "水", "丑": "土",
  "寅": "木", "卯": "木",
  "辰": "土", "巳": "火",
  "午": "火", "未": "土",
  "申": "金", "酉": "金",
  "戌": "土", "亥": "水"
};

// 地支藏干 (每个地支所藏的天干)
const BRANCH_HIDDEN_STEMS = {
  "子": ["癸"],
  "丑": ["己", "癸", "辛"],
  "寅": ["甲", "丙", "戊"],
  "卯": ["乙"],
  "辰": ["戊", "乙", "癸"],
  "巳": ["丙", "庚", "戊"],
  "午": ["丁", "己"],
  "未": ["己", "丁", "乙"],
  "申": ["庚", "壬", "戊"],
  "酉": ["辛"],
  "戌": ["戊", "辛", "丁"],
  "亥": ["壬", "甲"]
};

// 十神 (以日干为中心)
const TEN_GODS = {
  "甲": { "甲": "比肩", "乙": "劫财", "丙": "食神", "丁": "伤官", "戊": "偏财", "己": "正财", "庚": "七杀", "辛": "正官", "壬": "偏印", "癸": "正印" },
  "乙": { "甲": "劫财", "乙": "比肩", "丙": "伤官", "丁": "食神", "戊": "正财", "己": "偏财", "庚": "正官", "辛": "七杀", "壬": "正印", "癸": "偏印" },
  "丙": { "甲": "偏印", "乙": "正印", "丙": "比肩", "丁": "劫财", "戊": "食神", "己": "伤官", "庚": "偏财", "辛": "正财", "壬": "七杀", "癸": "正官" },
  "丁": { "甲": "正印", "乙": "偏印", "丙": "劫财", "丁": "比肩", "戊": "伤官", "己": "食神", "庚": "正财", "辛": "偏财", "壬": "正官", "癸": "七杀" },
  "戊": { "甲": "七杀", "乙": "正官", "丙": "偏印", "丁": "正印", "戊": "比肩", "己": "劫财", "庚": "食神", "辛": "伤官", "壬": "偏财", "癸": "正财" },
  "己": { "甲": "正官", "乙": "七杀", "丙": "正印", "丁": "偏印", "戊": "劫财", "己": "比肩", "庚": "伤官", "辛": "食神", "壬": "正财", "癸": "偏财" },
  "庚": { "甲": "偏财", "乙": "正财", "丙": "七杀", "丁": "正官", "戊": "偏印", "己": "正印", "庚": "比肩", "辛": "劫财", "壬": "食神", "癸": "伤官" },
  "辛": { "甲": "正财", "乙": "偏财", "丙": "正官", "丁": "七杀", "戊": "正印", "己": "偏印", "庚": "劫财", "辛": "比肩", "壬": "伤官", "癸": "食神" },
  "壬": { "甲": "食神", "乙": "伤官", "丙": "偏财", "丁": "正财", "戊": "七杀", "己": "正官", "庚": "偏印", "辛": "正印", "壬": "比肩", "癸": "劫财" },
  "癸": { "甲": "伤官", "乙": "食神", "丙": "正财", "丁": "偏财", "戊": "正官", "己": "七杀", "庚": "正印", "辛": "偏印", "壬": "劫财", "癸": "比肩" }
};

// 五行生克关系
const ELEMENT_RELATIONS = {
  "木": { "木": "比和", "火": "生", "土": "克", "金": "被克", "水": "被生" },
  "火": { "木": "被生", "火": "比和", "土": "生", "金": "克", "水": "被克" },
  "土": { "木": "被克", "火": "被生", "土": "比和", "金": "生", "水": "克" },
  "金": { "木": "克", "火": "被克", "土": "被生", "金": "比和", "水": "生" },
  "水": { "木": "生", "火": "克", "土": "被克", "金": "被生", "水": "比和" }
};

// 纳音五行
const NA_YIN = {
  "甲子": "海中金", "乙丑": "海中金",
  "丙寅": "炉中火", "丁卯": "炉中火",
  "戊辰": "大林木", "己巳": "大林木",
  "庚午": "路旁土", "辛未": "路旁土",
  "壬申": "剑锋金", "癸酉": "剑锋金",
  "甲戌": "山头火", "乙亥": "山头火",
  "丙子": "涧下水", "丁丑": "涧下水",
  "戊寅": "城头土", "己卯": "城头土",
  "庚辰": "白蜡金", "辛巳": "白蜡金",
  "壬午": "杨柳木", "癸未": "杨柳木",
  "甲申": "泉中水", "乙酉": "泉中水",
  "丙戌": "屋上土", "丁亥": "屋上土",
  "戊子": "霹雳火", "己丑": "霹雳火",
  "庚寅": "松柏木", "辛卯": "松柏木",
  "壬辰": "长流水", "癸巳": "长流水",
  "甲午": "砂石金", "乙未": "砂石金",
  "丙申": "山下火", "丁酉": "山下火",
  "戊戌": "平地木", "己亥": "平地木",
  "庚子": "壁上土", "辛丑": "壁上土",
  "壬寅": "金箔金", "癸卯": "金箔金",
  "甲辰": "覆灯火", "乙巳": "覆灯火",
  "丙午": "天河水", "丁未": "天河水",
  "戊申": "大驿土", "己酉": "大驿土",
  "庚戌": "钗环金", "辛亥": "钗环金",
  "壬子": "桑柘木", "癸丑": "桑柘木",
  "甲寅": "大溪水", "乙卯": "大溪水",
  "丙辰": "沙中土", "丁巳": "沙中土",
  "戊午": "天上火", "己未": "天上火",
  "庚申": "石榴木", "辛酉": "石榴木",
  "壬戌": "大海水", "癸亥": "大海水"
};

// 地支六冲
const SIX_CONFLICTS = [
  ["子", "午"], ["丑", "未"], ["寅", "申"],
  ["卯", "酉"], ["辰", "戌"], ["巳", "亥"]
];

// 地支三合
const THREE_HARMONY = [
  ["寅", "午", "戌"], // 火局
  ["亥", "卯", "未"], // 木局
  ["申", "子", "辰"], // 水局
  ["巳", "酉", "丑"]  // 金局
];

// 地支六害
const SIX_HARMS = [
  ["子", "未"], ["丑", "午"], ["寅", "巳"],
  ["卯", "辰"], ["申", "亥"], ["酉", "戌"]
];

// 地支三会
const THREE_COMBINATIONS = [
  ["亥", "子", "丑"], // 水局
  ["寅", "卯", "辰"], // 木局
  ["巳", "午", "未"], // 火局
  ["申", "酉", "戌"]  // 金局
];

// 五行生克制化表
const ELEMENT_CYCLE = {
  "生": { // 我生
    "木": "火", "火": "土", "土": "金", "金": "水", "水": "木"
  },
  "克": { // 我克
    "木": "土", "火": "金", "土": "水", "金": "木", "水": "火"
  },
  "被生": { // 生我
    "木": "水", "火": "木", "土": "火", "金": "土", "水": "金"
  },
  "被克": { // 克我
    "木": "金", "火": "水", "土": "木", "金": "火", "水": "土"
  }
};

// 十神属性描述
const GOD_DESCRIPTIONS = {
  "比肩": "同性同类，代表兄弟、朋友、同事、合作伙伴，性质刚强，喜用神时主外交好、人缘佳",
  "劫财": "同性同类，代表兄弟姐妹、朋友、竞争对手，性质刚强，喜用神时主人际关系好",
  "食神": "我生之，代表学问、才艺、口才、名誉，性质温和，喜用神时主聪明、有才艺",
  "伤官": "我生之，代表创造力、灵活性、变动，性质刚强，喜用神时主聪明多变、有创意",
  "偏财": "所生之，代表偏业收入、意外之财，性质温和，喜用神时主财运佳",
  "正财": "所生之，代表正业收入、稳定财源，性质温和，喜用神时主正财丰厚",
  "七杀": "所克之，代表权威、竞争、压力，性质刚强，喜用神时主有权威、领导能力强",
  "正官": "所克之，代表权力、名誉、地位，性质温和，喜用神时主官运亨通、名声好",
  "偏印": "生我之，代表学习能力、智慧、贵人，性质温和，喜用神时主学习能力强",
  "正印": "生我之，代表学历、文凭、母亲，性质温和，喜用神时主文化修养高"
};

// 格局判断参考
const PATTERN_REFERENCES = {
  "日主过强": [
    "需要官杀、财星来制约",
    "忌神为印、比劫",
    "喜神为财、官杀",
    "适合经商、从政"
  ],
  "日主过弱": [
    "需要印、比劫来扶助",
    "忌神为官杀、财",
    "喜神为印、比劫",
    "适合学术、技术工作"
  ],
  "日主中和": [
    "五行均衡，格局稳定",
    "喜用神需结合具体八字",
    "综合发展能力较强",
    "事业多元化发展"
  ]
};

// 五行颜色对应
const ELEMENT_COLORS = {
  "木": "#4caf50",
  "火": "#f44336",
  "土": "#ff9800",
  "金": "#9e9e9e",
  "水": "#2196f3"
};

// 地支藏干表（用于计算地支所藏天干的权重）
const BRANCH_HIDDEN_STEMS_WEIGHT = {
  "子": { "癸": 100 },
  "丑": { "己": 60, "癸": 30, "辛": 10 },
  "寅": { "甲": 60, "丙": 30, "戊": 10 },
  "卯": { "乙": 100 },
  "辰": { "戊": 60, "乙": 30, "癸": 10 },
  "巳": { "丙": 60, "庚": 30, "戊": 10 },
  "午": { "丁": 60, "己": 40 },
  "未": { "己": 60, "丁": 30, "乙": 10 },
  "申": { "庚": 60, "壬": 30, "戊": 10 },
  "酉": { "辛": 100 },
  "戌": { "戊": 60, "辛": 30, "丁": 10 },
  "亥": { "壬": 60, "甲": 40 }
};

// 命格类型及描述
const FORMAT_TYPES = {
  "伤官局": {
    description: "伤官局的人感性多于理性，思维活跃，富有艺术家气质。他们对他人有很强的同理心和理解能力，善于观察世界以及人与人之间的关系，热衷于感受美好的事物。",
    characteristics: [
      "感性多于理性",
      "思维活跃，创造力强",
      "具有艺术家气质",
      "同理心和理解能力强",
      "善于观察和感受"
    ],
    icon: "palette",
    color: "text-pink-600",
    bgColor: "bg-pink-100",
    borderColor: "border-pink-300"
  },
  "印中局": {
    description: "印中局的人理性占主导，喜欢讲道理，性格较为固执，不太容易听取他人的意见，自我意识很强。",
    characteristics: [
      "理性思维占主导",
      "喜欢讲道理，善于思考",
      "性格较为固执",
      "自我意识很强",
      "不易听取他人意见"
    ],
    icon: "book",
    color: "text-blue-600",
    bgColor: "bg-blue-100",
    borderColor: "border-blue-300"
  },
  "比肩局": {
    description: "比肩局的人重义气，朋友通常较多，在团队中往往是兜底的角色，不怕辛苦，勇于担当。",
    characteristics: [
      "重视义气和友情",
      "朋友通常较多",
      "团队中担任兜底角色",
      "不怕辛苦，勇于担当",
      "有责任感和使命感"
    ],
    icon: "users",
    color: "text-green-600",
    bgColor: "bg-green-100",
    borderColor: "border-green-300"
  },
  "煞重局": {
    description: "煞重局的人风险意识强，做事情注重细节。",
    characteristics: [
      "风险意识很强",
      "做事情注重细节",
      "具有分析能力",
      "谨慎小心，不轻易冒险",
      "善于发现问题"
    ],
    icon: "shield-alt",
    color: "text-purple-600",
    bgColor: "bg-purple-100",
    borderColor: "border-purple-300"
  },
  "财旺局": {
    description: "财旺局的人执行能力强。财旺局的人执行能力很强，他们将事业成功视为衡量自己的标准，同时也用这一标准去评判他人。在\"想了再做\"和\"做了再想\"之间，他们通常会选择后者。",
    characteristics: [
      "执行能力非常强",
      "以事业成功衡量自己",
      "行动派，先做再思考",
      "追求实际成果",
      "务实而高效"
    ],
    icon: "coins",
    color: "text-yellow-600",
    bgColor: "bg-yellow-100",
    borderColor: "border-yellow-300"
  }
};
