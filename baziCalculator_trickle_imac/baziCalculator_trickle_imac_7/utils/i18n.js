function I18nProvider() {
  const [language, setLanguage] = React.useState('zh-Hant');
  
  const translations = {
    'zh-Hant': {
      title: '八字格局推算應用',
      subtitle: '根據陰曆出生日期推算八字、格局、五行、十神和十二宮',
      yearLabel: '年',
      monthLabel: '月',
      dayLabel: '日',
      hourLabel: '時辰',
      calculateButton: '推算八字',
      lunarCalendar: '農曆',
      solarCalendar: '陽曆',
      lunarDateSection: '陰曆出生日期',
      solarDateSection: '陽曆出生日期',
      dateInputSection: '出生日期',
      baziSection: '八字',
      patternSection: '格局分析',
      wuxingSection: '五行分析',
      shishenSection: '十神分析',
      shiergongSection: '十二宮分析',
      liunianSection: '流年大運分析',
      yearPillar: '年柱',
      monthPillar: '月柱',
      dayPillar: '日柱',
      hourPillar: '時柱',
      patternTitle: '命局格局：',
      wuxingTitle: '五行強弱：',
      shishenTitle: '十神分析：',
      shiergongTitle: '十二宮狀態：',
      liunianTitle: '流年大運分析：',
      shangguan: '傷官局',
      yinzhong: '印重局',
      bijian: '比肩局',
      shazhong: '煞重局',
      caiwang: '財旺局',
      wood: '木',
      fire: '火',
      earth: '土',
      metal: '金',
      water: '水',
      strong: '旺',
      weak: '弱',
      neutral: '中和',
      zhengyin: '正印',
      pianyin: '偏印',
      shangguan_single: '傷官',
      shishen: '食神',
      zhengguan: '正官',
      qisha: '七殺',
      zhengcai: '正財',
      piancai: '偏財',
      bijian_single: '比肩',
      jiecai: '劫財',
      dayMaster: '日主',
      changsheng: '長生',
      muyu: '沐浴',
      guandai: '冠帶',
      linguan: '臨官',
      diwang: '帝旺',
      shuai: '衰',
      bing: '病',
      si: '死',
      mu: '墓',
      jue: '絕',
      tai: '胎',
      yang: '養',
      rat: '鼠',
      ox: '牛',
      tiger: '虎',
      rabbit: '兔',
      dragon: '龍',
      snake: '蛇',
      horse: '馬',
      goat: '羊',
      monkey: '猴',
      rooster: '雞',
      dog: '狗',
      pig: '豬',
      jia: '甲',
      yi: '乙',
      bing: '丙',
      ding: '丁',
      wu: '戊',
      ji: '己',
      geng: '庚',
      xin: '辛',
      ren: '壬',
      gui: '癸',
      loading: '正在計算...',
      ten: '十',
      shangguan_desc: '傷官局的人感性多於理性，思維活躍，富有藝術家氣質。他們對他人有很強的同理心和理解能力，善於觀察世界以及人與人之間的關係，熱衷於感受美好的事物。',
      yinzhong_desc: '印重局的人理性占主導，喜歡講道理，性格較為固執，不太容易聽取他人的意見，自我意識很強。',
      bijian_desc: '比肩局的人重義氣，朋友通常較多，在團隊中往往是兜底的角色，不怕辛苦，勇於擔當。',
      shazhong_desc: '煞重局的人風險意識強，做事情注重細節。',
      caiwang_desc: '財旺局的人執行能力強。財旺局的人執行能力很強，他們將事業成功視為衡量自己的標準，同時也用這一標準去評判他人。在"想了再做"和"做了再想"之間，他們通常會選擇後者。',
      selectHour: '選擇時辰',
      footer: '© 2024 八字格局推算應用 - 僅供娛樂參考',
      year: '年',
      month: '月',
      day: '日'
    },
    'zh-Hans': {
      title: '八字格局推算应用',
      subtitle: '根据阴历出生日期推算八字、格局、五行、十神和十二宫',
      yearLabel: '年',
      monthLabel: '月',
      dayLabel: '日',
      hourLabel: '时辰',
      calculateButton: '推算八字',
      lunarCalendar: '农历',
      solarCalendar: '阳历',
      lunarDateSection: '阴历出生日期',
      solarDateSection: '阳历出生日期',
      dateInputSection: '出生日期',
      baziSection: '八字',
      patternSection: '格局分析',
      wuxingSection: '五行分析',
      shishenSection: '十神分析',
      shiergongSection: '十二宫分析',
      liunianSection: '流年大运分析',
      yearPillar: '年柱',
      monthPillar: '月柱',
      dayPillar: '日柱',
      hourPillar: '时柱',
      patternTitle: '命局格局：',
      wuxingTitle: '五行强弱：',
      shishenTitle: '十神分析：',
      shiergongTitle: '十二宫状态：',
      liunianTitle: '流年大运分析：',
      shangguan: '伤官局',
      yinzhong: '印重局',
      bijian: '比肩局',
      shazhong: '煞重局',
      caiwang: '财旺局',
      wood: '木',
      fire: '火',
      earth: '土',
      metal: '金',
      water: '水',
      strong: '旺',
      weak: '弱',
      neutral: '中和',
      zhengyin: '正印',
      pianyin: '偏印',
      shangguan_single: '伤官',
      shishen: '食神',
      zhengguan: '正官',
      qisha: '七杀',
      zhengcai: '正财',
      piancai: '偏财',
      bijian_single: '比肩',
      jiecai: '劫财',
      dayMaster: '日主',
      changsheng: '长生',
      muyu: '沐浴',
      guandai: '冠带',
      linguan: '临官',
      diwang: '帝旺',
      shuai: '衰',
      bing: '病',
      si: '死',
      mu: '墓',
      jue: '绝',
      tai: '胎',
      yang: '养',
      rat: '鼠',
      ox: '牛',
      tiger: '虎',
      rabbit: '兔',
      dragon: '龙',
      snake: '蛇',
      horse: '马',
      goat: '羊',
      monkey: '猴',
      rooster: '鸡',
      dog: '狗',
      pig: '猪',
      jia: '甲',
      yi: '乙',
      bing: '丙',
      ding: '丁',
      wu: '戊',
      ji: '己',
      geng: '庚',
      xin: '辛',
      ren: '壬',
      gui: '癸',
      loading: '正在计算...',
      ten: '十',
      shangguan_desc: '伤官局的人感性多于理性，思维活跃，富有艺术家气质。他们对他人有很强的同理心和理解能力，善于观察世界以及人与人之间的关系，热衷于感受美好的事物。',
      yinzhong_desc: '印重局的人理性占主导，喜欢讲道理，性格较为固执，不太容易听取他人的意见，自我意识很强。',
      bijian_desc: '比肩局的人重义气，朋友通常较多，在团队中往往是兜底的角色，不怕辛苦，勇于担当。',
      shazhong_desc: '煞重局的人风险意识强，做事情注重细节。',
      caiwang_desc: '财旺局的人执行能力强。财旺局的人执行能力很强，他们将事业成功视为衡量自己的标准，同时也用这一标准去评判他人。在"想了再做"和"做了再想"之间，他们通常会选择后者。',
      selectHour: '选择时辰',
      footer: '© 2024 八字格局推算应用 - 仅供娱乐参考',
      year: '年',
      month: '月',
      day: '日'
    },
    'en': {
      title: 'Eight Characters (BaZi) Calculator',
      subtitle: 'Calculate Eight Characters, Patterns, Five Elements, Ten Gods, and Twelve Palaces based on lunar birth date',
      yearLabel: 'Year',
      monthLabel: 'Month',
      dayLabel: 'Day',
      hourLabel: 'Hour',
      calculateButton: 'Calculate BaZi',
      lunarCalendar: 'Lunar Calendar',
      solarCalendar: 'Solar Calendar',
      lunarDateSection: 'Lunar Birth Date',
      solarDateSection: 'Solar Birth Date',
      dateInputSection: 'Birth Date',
      baziSection: 'Eight Characters',
      patternSection: 'Pattern Analysis',
      wuxingSection: 'Five Elements Analysis',
      shishenSection: 'Ten Gods Analysis',
      shiergongSection: 'Twelve Palaces Analysis',
      liunianSection: 'Annual & Life Cycle Analysis',
      yearPillar: 'Year Pillar',
      monthPillar: 'Month Pillar',
      dayPillar: 'Day Pillar',
      hourPillar: 'Hour Pillar',
      patternTitle: 'Pattern:',
      wuxingTitle: 'Five Elements Strength:',
      shishenTitle: 'Ten Gods Analysis:',
      shiergongTitle: 'Twelve Palaces Status:',
      liunianTitle: 'Annual & Life Cycle Analysis:',
      shangguan: 'Hurting Officer Pattern',
      yinzhong: 'Heavy Seal Pattern',
      bijian: 'Peer Pattern',
      shazhong: 'Heavy Killing Pattern',
      caiwang: 'Wealth Pattern',
      wood: 'Wood',
      fire: 'Fire',
      earth: 'Earth',
      metal: 'Metal',
      water: 'Water',
      strong: 'Strong',
      weak: 'Weak',
      neutral: 'Neutral',
      zhengyin: 'Direct Print',
      pianyin: 'Indirect Print',
      shangguan_single: 'Hurting Officer',
      shishen: 'Eating God',
      zhengguan: 'Direct Officer',
      qisha: 'Seven Killings',
      zhengcai: 'Direct Wealth',
      piancai: 'Indirect Wealth',
      bijian_single: 'Peer',
      jiecai: 'Robbing Wealth',
      dayMaster: 'Day Master',
      changsheng: 'Birth',
      muyu: 'Bath',
      guandai: 'Crown',
      linguan: 'Official',
      diwang: 'Emperor',
      shuai: 'Decline',
      bing: 'Sick',
      si: 'Death',
      mu: 'Grave',
      jue: 'End',
      tai: 'Conception',
      yang: 'Nurture',
      rat: 'Rat',
      ox: 'Ox',
      tiger: 'Tiger',
      rabbit: 'Rabbit',
      dragon: 'Dragon',
      snake: 'Snake',
      horse: 'Horse',
      goat: 'Goat',
      monkey: 'Monkey',
      rooster: 'Rooster',
      dog: 'Dog',
      pig: 'Pig',
      jia: 'Jia',
      yi: 'Yi',
      bing: 'Bing',
      ding: 'Ding',
      wu: 'Wu',
      ji: 'Ji',
      geng: 'Geng',
      xin: 'Xin',
      ren: 'Ren',
      gui: 'Gui',
      loading: 'Calculating...',
      ten: 'Ten',
      shangguan_desc: 'People with Hurting Officer Pattern tend to be more emotional than rational, with active minds and artistic temperament. They have strong empathy and understanding of others, are good at observing the world and relationships between people, and are passionate about experiencing beautiful things.',
      yinzhong_desc: 'People with Heavy Seal Pattern are dominated by rationality, like to reason, are relatively stubborn, not easy to accept others\' opinions, and have strong self-awareness.',
      bijian_desc: 'People with Peer Pattern value loyalty, usually have many friends, often play a supporting role in teams, are not afraid of hardships, and are brave to take responsibility.',
      shazhong_desc: 'People with Heavy Killing Pattern have strong risk awareness and pay attention to details.',
      caiwang_desc: 'People with Wealth Pattern have strong execution ability. They view career success as a standard to measure themselves, and also use this standard to judge others. Between "think before doing" and "do before thinking", they usually choose the latter.',
      selectHour: 'Select Hour',
      footer: '© 2024 BaZi Calculator - For entertainment purposes only',
      year: 'Year',
      month: 'Month',
      day: 'Day'
    },
    'ja': {
      title: '八字（バーツー）計算アプリ',
      subtitle: '旧暦の生年月日時から八字、パターン、五行、十神、十二宮を計算',
      yearLabel: '年',
      monthLabel: '月',
      dayLabel: '日',
      hourLabel: '時刻',
      calculateButton: '八字を計算',
      lunarCalendar: '旧暦',
      solarCalendar: '新暦',
      lunarDateSection: '旧暦生年月日',
      solarDateSection: '新暦生年月日',
      dateInputSection: '生年月日',
      baziSection: '八字',
      patternSection: 'パターン分析',
      wuxingSection: '五行分析',
      shishenSection: '十神分析',
      shiergongSection: '十二宮分析',
      liunianSection: '流年大運分析',
      yearPillar: '年柱',
      monthPillar: '月柱',
      dayPillar: '日柱',
      hourPillar: '時柱',
      patternTitle: 'パターン：',
      wuxingTitle: '五行の強弱：',
      shishenTitle: '十神分析：',
      shiergongTitle: '十二宮の状態：',
      liunianTitle: '流年と大運の分析：',
      shangguan: '傷官局',
      yinzhong: '印重局',
      bijian: '比肩局',
      shazhong: '殺重局',
      caiwang: '財旺局',
      wood: '木',
      fire: '火',
      earth: '土',
      metal: '金',
      water: '水',
      strong: '旺',
      weak: '弱',
      neutral: '中和',
      zhengyin: '正印',
      pianyin: '偏印',
      shangguan_single: '傷官',
      shishen: '食神',
      zhengguan: '正官',
      qisha: '七殺',
      zhengcai: '正財',
      piancai: '偏財',
      bijian_single: '比肩',
      jiecai: '劫財',
      dayMaster: '日主',
      changsheng: '長生',
      muyu: '沐浴',
      guandai: '冠帯',
      linguan: '臨官',
      diwang: '帝旺',
      shuai: '衰',
      bing: '病',
      si: '死',
      mu: '墓',
      jue: '絶',
      tai: '胎',
      yang: '養',
      rat: '子',
      ox: '丑',
      tiger: '寅',
      rabbit: '卯',
      dragon: '辰',
      snake: '巳',
      horse: '午',
      goat: '未',
      monkey: '申',
      rooster: '酉',
      dog: '戌',
      pig: '亥',
      jia: '甲',
      yi: '乙',
      bing: '丙',
      ding: '丁',
      wu: '戊',
      ji: '己',
      geng: '庚',
      xin: '辛',
      ren: '壬',
      gui: '癸',
      loading: '計算中...',
      ten: '十',
      shangguan_desc: '傷官局の人は感性が理性より優れ、思考が活発で、芸術家の気質を持っています。他者に対する強い共感力と理解力を持ち、世界や人間関係を観察することが得意で、美しいものを感じることに情熱を注いでいます。',
      yinzhong_desc: '印重局の人は理性が主導的で、理屈が好きで、性格がやや頑固で、他人の意見を聞き入れにくく、自己意識が強いです。',
      bijian_desc: '比肩局の人は義理を重んじ、友達が多く、チームでは支える役割を果たすことが多く、苦労を恐れず、責任を負う勇気があります。',
      shazhong_desc: '殺重局の人はリスク意識が強く、細部に注意を払います。',
      caiwang_desc: '財旺局の人は実行力が強いです。彼らはキャリアの成功を自分を測る基準と見なし、また他人を判断するためにこの基準を使用します。「考えてから行動する」と「行動してから考える」の間で、彼らは通常後者を選びます。',
      selectHour: '時刻を選択',
      footer: '© 2024 八字計算アプリ - 娯楽目的のみ',
      year: '年',
      month: '月',
      day: '日'
    },
    'ko': {
      title: '팔자(BaZi) 계산기',
      subtitle: '음력 생년월일시를 기반으로 팔자, 패턴, 오행, 십신, 십이궁 계산',
      yearLabel: '년',
      monthLabel: '월',
      dayLabel: '일',
      hourLabel: '시간',
      calculateButton: '팔자 계산',
      lunarCalendar: '음력',
      solarCalendar: '양력',
      lunarDateSection: '음력 생년월일',
      solarDateSection: '양력 생년월일',
      dateInputSection: '생년월일',
      baziSection: '팔자',
      patternSection: '패턴 분석',
      wuxingSection: '오행 분석',
      shishenSection: '십신 분석',
      shiergongSection: '십이궁 분석',
      liunianSection: '유년 대운 분석',
      yearPillar: '년주',
      monthPillar: '월주',
      dayPillar: '일주',
      hourPillar: '시주',
      patternTitle: '패턴:',
      wuxingTitle: '오행 강약:',
      shishenTitle: '십신 분석:',
      shiergongTitle: '십이궁 상태:',
      liunianTitle: '유년 대운 분석:',
      shangguan: '상관국',
      yinzhong: '인중국',
      bijian: '비견국',
      shazhong: '살중국',
      caiwang: '재왕국',
      wood: '목',
      fire: '화',
      earth: '토',
      metal: '금',
      water: '수',
      strong: '강',
      weak: '약',
      neutral: '중화',
      zhengyin: '정인',
      pianyin: '편인',
      shangguan_single: '상관',
      shishen: '식신',
      zhengguan: '정관',
      qisha: '칠살',
      zhengcai: '정재',
      piancai: '편재',
      bijian_single: '비견',
      jiecai: '겁재',
      dayMaster: '일주',
      changsheng: '장생',
      muyu: '목욕',
      guandai: '관대',
      linguan: '임관',
      diwang: '제왕',
      shuai: '쇠',
      bing: '병',
      si: '사',
      mu: '묘',
      jue: '절',
      tai: '태',
      yang: '양',
      rat: '자',
      ox: '축',
      tiger: '인',
      rabbit: '묘',
      dragon: '진',
      snake: '사',
      horse: '오',
      goat: '미',
      monkey: '신',
      rooster: '유',
      dog: '술',
      pig: '해',
      jia: '갑',
      yi: '을',
      bing: '병',
      ding: '정',
      wu: '무',
      ji: '기',
      geng: '경',
      xin: '신',
      ren: '임',
      gui: '계',
      loading: '계산 중...',
      ten: '십',
      shangguan_desc: '상관국의 사람들은 이성보다 감성이 더 많고, 사고가 활발하며, 예술가적인 기질을 가지고 있습니다. 그들은 타인에 대한 강한 공감력과 이해력을 가지고 있으며, 세계와 사람들 사이의 관계를 관찰하는 것에 능숙하고, 아름다운 것들을 경험하는 것에 열정적입니다.',
      yinzhong_desc: '인중국의 사람들은 이성이 지배적이며, 이치를 따지는 것을 좋아하고, 성격이 비교적 완고하며, 타인의 의견을 쉽게 받아들이지 않고, 자아 의식이 강합니다.',
      bijian_desc: '비견국의 사람들은 의리를 중요시하고, 보통 친구가 많으며, 팀에서 종종 지지하는 역할을 하고, 어려움을 두려워하지 않으며, 책임을 질 용기가 있습니다.',
      shazhong_desc: '살중국의 사람들은 위험 의식이 강하고, 세부 사항에 주의를 기울입니다.',
      caiwang_desc: '재왕국의 사람들은 실행력이 강합니다. 그들은 직업적 성공을 자신을 측정하는 기준으로 보고, 또한 이 기준을 사용하여 타인을 판단합니다. "생각한 후에 행동하기"와 "행동한 후에 생각하기" 사이에서, 그들은 보통 후자를 선택합니다.',
      selectHour: '시간 선택',
      footer: '© 2024 팔자 계산기 - 오락 목적으로만 사용',
      year: '년',
      month: '월',
      day: '일'
    }
  };
  
  const changeLanguage = (lang) => {
    setLanguage(lang);
    document.documentElement.lang = lang;
  };
  
  const t = (key) => {
    return translations[language][key] || key;
  };
  
  return {
    language,
    t,
    changeLanguage,
    translations
  };
}
